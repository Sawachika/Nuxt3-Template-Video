import C from"./PtvWWehW.js";import{_ as N}from"./Cj1jmj46.js";import{_ as P,I as R,E as $,D as j,C as q,J as B,K as D,L as F,l as I,e as L,r as A,M as E,o,c as r,a as t,u as s,b as u,t as l,q as z,G,F as h,g as J}from"./CcvjTmgl.js";import{u as K}from"./DMmXYoHS.js";import"./NsWjz9On.js";import"./TEzbw6oW.js";const M={class:"grid gap-4 w-full max-w-4xl mx-auto"},T={key:0,class:"relative"},U=["src"],H={class:"absolute top-0 grid place-content-center gap-4 w-full h-full bg-hex-000b opacity-0 duration-200 md:hover:opacity-100"},O=["src"],Q={class:"flex justify-between px-4"},W={class:"font-bold text-lg"},X={class:"grid gap-2"},Y={key:0,class:"text-amber text-center"},Z={class:"flex justify-between bg-gradient p-4 rounded-2xl"},ee=["breakpoints"],se={__name:"video",async setup(te){let f,p;const _=R(),i=$(),m=j(),c=q(),{$toast:v}=B();[f,p]=D(()=>g()),await f,p();const{video:e}=F(i),y=!e.value.fee,x=I(()=>i.lists.filter(({id:n,fee:a})=>e.value.id===n?!1:y?!a:a)),w=L();K(w,{injectStyles:[".swiper-scrollbar-drag { background: #fff }"]});const k=A({768:{slidesPerView:4},1024:{slidesPerView:6},1280:{slidesPerView:8}});E(()=>_.query.id,()=>g());function g(){i.set(+_.query.id)}function S(){if(i.video.fee){if(!m.isLogin)return v.info("Please login first"),c.set({login:{visible:!0,form:"login"}});if(m.wallets.every(({value:n})=>n<i.video.fee))return v.info("Not enough balance"),c.set({wallet:!0})}c.video.wallet=!0}return(n,a)=>{const b=C,V=N;return o(),r(h,null,[t("div",M,[s(e).fee?(o(),r("div",T,[t("img",{class:"w-full aspect-video",src:s(e).image},null,8,U),t("div",H,[t("div",{class:"grid place-content-center w-14 h-14 rounded-full bg-hex-ff7400 cursor-pointer",onClick:S},[u(b,{name:"material-symbols:play-arrow"})])])])):(o(),r("video",{key:1,class:"w-full aspect-video",src:s(e).src,controls:""},null,8,O)),t("div",Q,[t("h2",W,l(s(e).title),1),t("div",X,[u(b,{class:z(["w-8 h-8 cursor-pointer",{"text-pink-500":s(e).favorite}]),name:"material-symbols:favorite-rounded",onClick:a[0]||(a[0]=d=>s(e).favorite=!s(e).favorite)},null,8,["class"]),s(e).fee?(o(),r("span",Y,"$"+l(s(e).fee),1)):G("",!0)])]),t("div",Z,[t("p",null,l(s(e).descript),1),t("p",null,"Views: "+l(s(e).views),1)])]),t("swiper-container",{class:"swiper mt-8 overflow-auto md:m-8",ref_key:"swiperRef",ref:w,init:!1,"slides-per-view":2,"space-between":"16",scrollbar:!0,breakpoints:s(k)},[(o(!0),r(h,null,J(s(x),d=>(o(),r("swiper-slide",{key:d.id},[u(V,{video:d},null,8,["video"])]))),128))],8,ee)],64)}}},ce=P(se,[["__scopeId","data-v-f5dd32bb"]]);export{ce as default};
